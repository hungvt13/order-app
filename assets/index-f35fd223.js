import{_ as x,r as u,a as T,j as e,c as P,b as Z,u as _,P as E,q as w}from"./index-3382052d.js";import{g as N,a as A,s as k,u as U,c as L,b as O,r as V,G as n,T as m,f as J,C as Q}from"./Container-df53dc54.js";import{B as W}from"./Button-52de79ef.js";import{c as D,i as ee,e as oe,u as te,g as re,P as d,f as G,a as ae}from"./currencyFormatter-41b57bfd.js";import{u as ne}from"./useEdit-91ec4300.js";import{v as se,B as M}from"./v4-e6e2ca20.js";import{u as ie,f as ce,c as le,a as de,d as ue}from"./useScrollToView-92ff80d7.js";import{S as pe,F as me}from"./FormControlLabel-bdd121e3.js";import{u as he}from"./useIntersection-c07210a2.js";import"./useDispatch-5ce22958.js";function fe(o){return N("MuiFormGroup",o)}A("MuiFormGroup",["root","row","error"]);const xe=["className","row"],ge=o=>{const{classes:t,row:a,error:r}=o;return O({root:["root",a&&"row",r&&"error"]},fe,t)},ye=k("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:a}=o;return[t.root,a.row&&t.row]}})(({ownerState:o})=>x({display:"flex",flexDirection:"column",flexWrap:"wrap"},o.row&&{flexDirection:"row"})),je=u.forwardRef(function(t,a){const r=U({props:t,name:"MuiFormGroup"}),{className:s,row:c=!1}=r,l=T(r,xe),i=ie(),h=ce({props:r,muiFormControl:i,states:["error"]}),y=x({},r,{row:c,error:h.error}),f=ge(y);return e.jsx(ye,x({className:L(f.root,s),ownerState:y,ref:a},l))}),Ce=je,ve=D(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),be=D(e.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Re=k("span",{shouldForwardProp:V})({position:"relative",display:"flex"}),Se=k(ve)({transform:"scale(1)"}),ke=k(be)(({theme:o,ownerState:t})=>x({left:0,position:"absolute",transform:"scale(0)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeIn,duration:o.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeOut,duration:o.transitions.duration.shortest})}));function H(o){const{checked:t=!1,classes:a={},fontSize:r}=o,s=x({},o,{checked:t});return e.jsxs(Re,{className:a.root,ownerState:s,children:[e.jsx(Se,{fontSize:r,className:a.background,ownerState:s}),e.jsx(ke,{fontSize:r,className:a.dot,ownerState:s})]})}const Pe=u.createContext(void 0),Y=Pe;function Ie(){return u.useContext(Y)}function we(o){return N("MuiRadio",o)}const Ge=A("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),$=Ge,Te=["checked","checkedIcon","color","icon","name","onChange","size","className"],ze=o=>{const{classes:t,color:a,size:r}=o,s={root:["root",`color${P(a)}`,r!=="medium"&&`size${P(r)}`]};return x({},t,O(s,we,t))},Fe=k(pe,{shouldForwardProp:o=>V(o)||o==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:a}=o;return[t.root,a.size!=="medium"&&t[`size${P(a.size)}`],t[`color${P(a.color)}`]]}})(({theme:o,ownerState:t})=>x({color:(o.vars||o).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:o.vars?`rgba(${t.color==="default"?o.vars.palette.action.activeChannel:o.vars.palette[t.color].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:Z(t.color==="default"?o.palette.action.active:o.palette[t.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${$.checked}`]:{color:(o.vars||o).palette[t.color].main}},{[`&.${$.disabled}`]:{color:(o.vars||o).palette.action.disabled}}));function Me(o,t){return typeof t=="object"&&t!==null?o===t:String(o)===String(t)}const B=e.jsx(H,{checked:!0}),q=e.jsx(H,{}),$e=u.forwardRef(function(t,a){var r,s;const c=U({props:t,name:"MuiRadio"}),{checked:l,checkedIcon:i=B,color:h="primary",icon:y=q,name:f,onChange:v,size:j="medium",className:b}=c,R=T(c,Te),S=x({},c,{color:h,size:j}),p=ze(S),g=Ie();let C=l;const X=ee(v,g&&g.onChange);let I=f;return g&&(typeof C>"u"&&(C=Me(g.value,c.value)),typeof I>"u"&&(I=g.name)),e.jsx(Fe,x({type:"radio",icon:u.cloneElement(y,{fontSize:(r=q.props.fontSize)!=null?r:j}),checkedIcon:u.cloneElement(i,{fontSize:(s=B.props.fontSize)!=null?s:j}),ownerState:S,classes:p,name:I,checked:C,onChange:X,ref:a,className:L(p.root,b)},R))}),Be=$e,qe=["actions","children","defaultValue","name","onChange","value"],_e=u.forwardRef(function(t,a){const{actions:r,children:s,defaultValue:c,name:l,onChange:i,value:h}=t,y=T(t,qe),f=u.useRef(null),[v,j]=oe({controlled:h,default:c,name:"RadioGroup"});u.useImperativeHandle(r,()=>({focus:()=>{let p=f.current.querySelector("input:not(:disabled):checked");p||(p=f.current.querySelector("input:not(:disabled)")),p&&p.focus()}}),[]);const b=te(a,f),R=re(l),S=u.useMemo(()=>({name:R,onChange(p){j(p.target.value),i&&i(p,p.target.value)},value:v}),[R,i,j,v]);return e.jsx(Y.Provider,{value:S,children:e.jsx(Ce,x({role:"radiogroup",ref:b},y,{children:s}))})}),Ee=_e;function K({localId:o,id:t,categoryId:a,quantity:r,name:s,options:c,totalPrice:l}){const{toItemPage:i}=ne();return e.jsxs(e.Fragment,{children:[e.jsx(n,{item:!0,xs:1,children:e.jsxs(m,{variant:"body1",fontWeight:"bold",children:[r,"x"]})}),e.jsx(n,{item:!0,xs:9,children:e.jsxs(n,{container:!0,children:[e.jsx(n,{item:!0,xs:12,children:e.jsx(m,{variant:"body1",fontWeight:"bold",children:s})}),c.map(h=>e.jsx(n,{item:!0,xs:12,children:e.jsx(m,{variant:"body1",children:h.name})},se())),e.jsx(n,{item:!0,xs:12,children:e.jsx(W,{variant:"text",size:"small",color:"info",onClick:()=>i(a,t,o),sx:{padding:0,minWidth:"auto"},children:"Edit"})})]})}),e.jsx(n,{item:!0,xs:2,children:e.jsx(m,{variant:"body1",children:G(l)})})]})}K.propTypes={localId:d.string.isRequired,id:d.string.isRequired,categoryId:d.string.isRequired,quantity:d.number.isRequired,name:d.string.isRequired,options:d.array.isRequired,totalPrice:d.number.isRequired};function Ne({items:o}){const t=_(),a=()=>{t(E.MENU_PAGE)};return e.jsxs(n,{container:!0,rowSpacing:2,children:[e.jsx(n,{item:!0,xs:6,children:e.jsx(m,{variant:"h6",children:"Order summary"})}),e.jsx(n,{item:!0,xs:6,display:"flex",justifyContent:"flex-end",children:e.jsx(W,{color:"info",variant:"outlined",size:"small",onClick:a,children:"Add more"})}),e.jsx(n,{item:!0,xs:12,children:e.jsx(n,{container:!0,rowSpacing:2,columnSpacing:.5,children:o.map(r=>e.jsx(K,{localId:r.localId,id:r.id.toString(),categoryId:r.categoryId,quantity:r.quantity,name:r.name,options:r.options,totalPrice:r.totalPrice},r.localId))})})]})}function z({label:o,data:t,required:a,error:r,onChange:s,...c}){return e.jsxs(le,{fullWidth:!0,required:a,onChange:s,error:r,...c,children:[!!o.length&&e.jsx(de,{children:o}),e.jsx(Ee,{defaultValue:"female",name:"radio-buttons-group",children:t.map(({value:l,label:i,...h})=>e.jsx(me,{disableTypography:!0,value:l,sx:{width:"100%"},control:e.jsx(Be,{}),label:i,...h},l))})]})}z.propTypes={label:d.string,data:d.array,required:d.bool,error:d.bool,onChange:d.func};z.defaultProps={label:"",data:[],required:!1,error:!1,onChange:()=>{}};const Ae=k("img")(({theme:o})=>({height:"50px",width:"auto",display:"block",marginBottom:o.spacing(2.6),"&:last-child":{marginBottom:0}}));function F({label:o,imgSrc:t}){return e.jsxs(n,{container:!0,children:[e.jsx(n,{item:!0,xs:6,display:"flex",alignItems:"center",children:o}),e.jsx(n,{item:!0,xs:6,children:e.jsx(Ae,{src:t})})]})}F.propTypes={label:d.string,imgSrc:d.string};F.defaultProps={label:"",imgSrc:""};function Ue({paymentOptions:o,type:t,setType:a,addRef:r,error:s}){const c=()=>o.map(i=>({id:i.id,label:e.jsx(F,{label:i.name,imgSrc:i.image_src}),value:i.id,disabled:i.disabled||!1,sx:{backgroundColor:t===`${i.id}`?w[50]:"inherit",outline:`1px solid ${w[100]}`,...i.disabled?{filter:"grayscale(100%)",opacity:.5}:{},borderRadius:1,height:"80px",margin:0,marginBottom:2,"&:last-child":{marginBottom:0},"&:hover":{backgroundColor:w[50]}}}));return e.jsxs(n,{container:!0,ref:r,children:[e.jsxs(n,{item:!0,xs:12,children:[e.jsx(m,{variant:"h6",as:"span",sx:{marginRight:1},children:"Payment"}),s&&e.jsx(m,{variant:"caption",color:"error",children:s})]}),e.jsx(n,{item:!0,xs:12,children:e.jsx(z,{data:c(),onChange:l=>a(l.target.value),value:t})})]})}const Le=[{id:1,name:"Cash",image_src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRMLSSLYimWczK97iCqx05E9ON0NV-eNe58Xg&usqp=CAU"},{id:2,name:"Credit card",image_src:"https://img.freepik.com/premium-vector/contactless-payment-by-bank-credit-card-hand-paying-with-cashless-wireless-transfer-pos-terminal-buying-emv-rfid-scanner-flat-graphic-vector-illustration-isolated-white-background_633472-877.jpg?size=626&ext=jpg&ga=GA1.1.1021809173.1702659321&semt=ais",disabled:!0},{id:3,name:"Momo",image_src:"https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png",disabled:!0}];function Oe({totalPrice:o}){return e.jsxs(n,{container:!0,sx:{padding:2},children:[e.jsx(n,{item:!0,xs:6,children:e.jsx(m,{variant:"body1",children:"Total :"})}),e.jsx(n,{item:!0,xs:6,textAlign:"right",children:e.jsx(m,{variant:"h6",children:o})})]})}function eo(){const o=_(),{cartItems:t,getAddedFoods:a,foodsList:r,cartTotalPrice:s}=ae(),{toActionBar:c}=J(),{addTargetRef:l,targetRefs:i}=he({threshold:.5}),{scrollToItem:h}=ue(i.current),y=u.useMemo(()=>a(t,r),[t,r]),[f,v]=u.useState({paymentType:null}),[j,b]=u.useState({paymentType:""}),R=g=>{b(C=>({...C,paymentType:""})),v(C=>({...C,paymentType:g}))},S=()=>f.paymentType===null?(b(g=>({...g,paymentType:"Select a payment method"})),!1):!0,p=()=>{if(!S()){h(0);return}o(E.PAYMENT_COMPLETE_PAGE)};return u.useEffect(()=>{c({content:"Place Item",subcontent:e.jsx(Oe,{totalPrice:G(s)}),func:p})},[f.paymentType]),e.jsxs(Q,{rowSpacing:4,children:[e.jsx(n,{item:!0,xs:12,children:e.jsx(m,{variant:"h5",children:"Checkout"})}),e.jsx(n,{item:!0,xs:12,children:e.jsx(Ne,{items:y})}),e.jsxs(n,{item:!0,xs:12,display:"flex",children:[e.jsx(M,{flexGrow:1,children:e.jsx(m,{variant:"body1",children:"Subtotal:"})}),e.jsx(M,{children:e.jsx(m,{variant:"body1",children:G(s)})})]}),e.jsx(n,{item:!0,xs:12,children:e.jsx(Ue,{paymentOptions:Le,type:f.paymentType,setType:R,addRef:l,error:j.paymentType})})]})}export{eo as default};
